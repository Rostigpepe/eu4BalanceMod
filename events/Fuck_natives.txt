namespace = native_flavour_killallnativesevent

# European Diseases
country_event = {
	id = native_flavour_killallnativesevent.1
	title = BM_kill_all_natives.t
	desc = BM_kill_all_natives.d
	picture = PLAGUE_eventPicture
	
	trigger = {
		NOT = { has_country_flag = european_diseases_struck }
		capital_scope = {
			continent = north_america
		}
		any_known_country = {
			OR = {
				capital_scope = {
					continent = europe
				}
				colonial_parent = {
					capital_scope = {
						continent = europe
					}
				}
			}
			OR = {
				any_owned_province = {
					continent = north_america
				}
				war_with = ROOT
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						is_capital = no
						owner = { NOT = { num_of_cities = 2 } }
					}
				}
				set_province_flag = NA_smallpox_here
				every_neighbor_province = {
					limit = {
						owned_by = ROOT
					}
					set_province_flag = NA_smallpox_here
				}
			}
			set_country_flag = european_diseases_struck
		}
	}
	
	mean_time_to_happen = {
		months = 60
		
		modifier = {
			factor = 0.25
			any_known_country = {
				capital_scope = {
					continent = europe
				}
				war_with = ROOT
			}
		}
	}
	
	option = {
		name = BM_kill_all_natives.a #Have the gods forsaken us?
		every_province = {
			limit = { has_province_flag = NA_smallpox_here }
			add_province_modifier = {
				name = inc_smallpox_outbreak
				duration = 1095
			}
			clr_province_flag = NA_smallpox_here
		}
	}
}

# KILLS ALL NATIVES EVENT
namespace = remove_natives_events
country_event = { #You guessed it, removes natives
	id = remove_natives_events.1
	title = remove_natives_events.1.t
	desc = remove_natives_events.1.d
	picture = NATIVES_eventPicture
	
hidden = yes
	trigger = {
		NOT = { has_global_flag = natives_removed_flag }
	}
	
	mean_time_to_happen = { 
		days = 5
	}

	fire_only_once = yes

	immediate = {
		set_global_flag = natives_removed_flag
		south_america = {
			limit = {
				owner = {
					technology_group = south_american
					NOT = { 
						OR = {
							tag = MPC
							tag = GUA
							tag = TPA
							tag = ARW
							tag = CAB
						}
					}
				}
			}
			cede_province = ---
			every_owned_province = {
				limit = { has_building = fort_15th }
				remove_building = fort_15th
			}
		}
		north_america = {
			limit = {
				owner = {
					technology_group = north_american
					NOT = { 
						OR = {
							tag = WCR
							tag = FOX
							tag = STA
							tag = OTT
							tag = SIO
							tag = BLA
							tag = COM
							tag = SHO
							tag = CAO
							tag = MMI
							tag = ONO
							tag = ABE
							tag = KIO
							tag = APA
							tag = HDA
						}
					}
				}
			}
			cede_province = ---
			every_owned_province = {
				limit = { has_building = fort_15th }
				remove_building = fort_15th
			}
		}
		oceania = {
			limit = {
				owner = {
					NOT = { 
						OR = {
							tag = HAW
							tag = TOG
							tag = PLW
						}
					}
					OR = { technology_group = aboriginal_tech technology_group = polynesian_tech }
				}
			}
			cede_province = ---
			every_owned_province = {
				limit = { has_building = fort_15th }
				remove_building = fort_15th
			}
		}
	}

	option = { #Remove
	}
}

namespace = make_africa_kill
country_event = { #You guessed it, makes africa kill
	id = make_africa_kill_events.1
	title = make_africa_kill_events.1.t
	desc = make_africa_kill_events.1.d
	picture = NATIVES_eventPicture
	
hidden = yes
	trigger = {
		NOT = { has_global_flag = natives_removed_flag }
	}
	
	mean_time_to_happen = { 
		days = 5
	}

	fire_only_once = yes

	immediate = {
		set_global_flag = natives_removed_flag

		every_province = {
			limit = {
				region = niger_region
				region = guinea_region
				region = central_africa_region
				region = sahel_region
				region = horn_of_africa_region
				region = east_africa_region
				region = kongo_region
				region = south_africa_region
				NOT = {
					has_port = yes
				}
			}
			add_province_modifier = {
				name = kill_africa_province_modif
				duration = -1
			}
		}
	}

	option = { #kill
	}
}