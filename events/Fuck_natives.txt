namespace = native_flavour_killallnativesevent

# European Diseases
country_event = {
	id = native_flavour_killallnativesevent.1
	title = BM_kill_all_natives.t
	desc = BM_kill_all_natives.d
	picture = PLAGUE_eventPicture
	
	trigger = {
		NOT = { has_country_flag = european_diseases_struck }
		capital_scope = {
			continent = north_america
		}
		any_known_country = {
			OR = {
				capital_scope = {
					continent = europe
				}
				colonial_parent = {
					capital_scope = {
						continent = europe
					}
				}
			}
			OR = {
				any_owned_province = {
					continent = north_america
				}
				war_with = ROOT
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						is_capital = no
						owner = { NOT = { num_of_cities = 2 } }
					}
				}
				set_province_flag = NA_smallpox_here
				every_neighbor_province = {
					limit = {
						owned_by = ROOT
					}
					set_province_flag = NA_smallpox_here
				}
			}
			set_country_flag = european_diseases_struck
		}
	}
	
	mean_time_to_happen = {
		months = 60
		
		modifier = {
			factor = 0.25
			any_known_country = {
				capital_scope = {
					continent = europe
				}
				war_with = ROOT
			}
		}
	}
	
	option = {
		name = BM_kill_all_natives.a #Have the gods forsaken us?
		every_province = {
			limit = { has_province_flag = NA_smallpox_here }
			add_province_modifier = {
				name = inc_smallpox_outbreak
				duration = 1095
			}
			clr_province_flag = NA_smallpox_here
		}
	}
}

# KILLS ALL NATIVES EVENT
namespace = remove_natives_events
country_event = { #You guessed it, removes natives
	id = remove_natives_events.1
	title = remove_natives_events.1.t
	desc = remove_natives_events.1.d
	picture = NATIVES_eventPicture
	
hidden = yes
	trigger = {
		NOT = { has_global_flag = natives_removed_flag }
	}
	
	mean_time_to_happen = { 
		days = 5
	}

	fire_only_once = yes

	immediate = {
		set_global_flag = natives_removed_flag
		south_america = {
			limit = {
				owner = {
					technology_group = south_american
					NOT = { 
						OR = {
							tag = MPC
							tag = GUA
							tag = TPA
							tag = ARW
							tag = CAB
						}
					}
				}
			}
			cede_province = ---
			every_owned_province = {
				limit = { has_building = fort_15th }
				remove_building = fort_15th
			}
		}
		north_america = {
			limit = {
				owner = {
					technology_group = north_american
					NOT = { 
						OR = {
							tag = WCR
							tag = FOX
							tag = STA
							tag = OTT
							tag = SIO
							tag = BLA
							tag = COM
							tag = SHO
							tag = CAO
							tag = MMI
							tag = ONO
							tag = ABE
							tag = KIO
							tag = APA
							tag = HDA
						}
					}
				}
			}
			cede_province = ---
			every_owned_province = {
				limit = { has_building = fort_15th }
				remove_building = fort_15th
			}
		}
		oceania = {
			limit = {
				owner = {
					NOT = { 
						OR = {
							tag = HAW
							tag = TOG
							tag = PLW
						}
					}
					OR = { technology_group = aboriginal_tech technology_group = polynesian_tech }
				}
			}
			cede_province = ---
			every_owned_province = {
				limit = { has_building = fort_15th }
				remove_building = fort_15th
			}
		}
		africa = {
			limit = {
				owner = {
					NOT = { 
						OR = {
							tag = MAL
							tag = JOL
							tag = JNN
							tag = TMB
							tag = SON
							tag = BEN
							tag = AIR
							tag = KBO
							tag = LOA
							tag = KON
							tag = NDO
							tag = KUB
							tag = LUB
							tag = ZIM
							tag = RZW
							tag = SFA
							tag = ZAN
							tag = AJU
							tag = MDI
							tag = ADA
							tag = ETH
							tag = DAM
							tag = JJI
							tag = ENA
							tag = KAF
							tag = WLY
							tag = HDY
							tag = MED
							tag = ALO
							tag = BEJ
							tag = ABB
							tag = MAK
							tag = MAM
							tag = TUN
							tag = FZA
							tag = GHD
							tag = TGT
							tag = MZB
							tag = TLC
							tag = MOR
							tag = MRK
							tag = SOS
							tag = TFL
						}
					}
				}
			}
			cede_province = ---
			every_owned_province = {
				limit = { has_building = fort_15th }
				remove_building = fort_15th
			}
		}
	}

	option = { #Remove
	}
}

namespace = remove_natives_events
country_event = { #You guessed it, removes natives
	id = remove_natives_events.2
	title = remove_natives_events.2.t
	desc = remove_natives_events.2.d
	picture = NATIVES_eventPicture
	
hidden = yes
	trigger = {
		NOT = { has_global_flag = africa_removed_flag }
	}
	
	mean_time_to_happen = { 
		days = 5
	}

	fire_only_once = yes

	immediate = {
		set_global_flag = africa_removed_flag

		sahel_region = {
			add_permanent_province_modifier = { 
				name = kill_africa_province_modif
				duration = -1
			}
		}
		niger_region = {
			limit = {
				NOT = {
					has_port = yes
				}
			}
			add_permanent_province_modifier = { 
				name = kill_africa_province_modif
				duration = -1
			}
		}
		guinea_region = {
			limit = {
				NOT = {
					has_port = yes
				}
			}
			add_permanent_province_modifier = { 
				name = kill_africa_province_modif
				duration = -1
			}
		}
		horn_of_africa_region = {
			limit = {
				NOT = {
					has_port = yes
				}
			}
			add_permanent_province_modifier = { 
				name = kill_africa_province_modif
				duration = -1
			}
		}
		east_africa_region = {
			limit = {
				NOT = {
					has_port = yes
				}
			}
			add_permanent_province_modifier = { 
				name = kill_africa_province_modif
				duration = -1
			}
		}
		central_africa_region = {
			add_permanent_province_modifier = { 
				name = kill_africa_province_modif
				duration = -1
			}
		}
		kongo_region = {
			limit = {
				NOT = {
					has_port = yes
				}
			}
			add_permanent_province_modifier = { 
				name = kill_africa_province_modif
				duration = -1
			}
		}
		south_africa_region = {
			limit = {
				NOT = {
					has_port = yes
				}
			}
			add_permanent_province_modifier = { 
				name = kill_africa_province_modif
				duration = -1
			}
		}
	}

	option = { #Remove
	}
}

country_event = { #You guessed it, removes natives
	id = remove_natives_events.3
	title = remove_natives_events.3.t
	desc = remove_natives_events.3.d
	picture = NATIVES_eventPicture
	
hidden = yes
	trigger = {
		AND = {
			has_global_flag = africa_removed_flag
			is_year = 1650
		}
	}
	
	mean_time_to_happen = { 
		days = 5
	}

	fire_only_once = yes

	immediate = {
		set_global_flag = africa_removed_flag

		every_province = {
			limit = {
				has_province_modifier = kill_africa_province_modif
			}
			remove_province_modifier = kill_africa_province_modif
		}
	}

	option = { #Remove
	}
}