#Custom Attribute for Prussian reforms
country_event = {
	id = reform_me_events.243
	title = reform_me_events.243.t
	desc = reform_me_events.243.d
	picture = WESTERNISATION_eventPicture
	hidden = yes
	

	trigger = {
		OR = {
			AND = {
				has_government_attribute = enables_immigrant_settlements
				all_owned_province = {
					NOT = {has_province_modifier = BM_immigrant_settlements}
				}
				any_owned_province = {
					OR = {
						trade_goods = grain
						trade_goods = livestock
						trade_goods = fish
					}
				}
			}
			AND = {
				NOT = {
					has_government_attribute = enables_immigrant_settlements
				}
				any_owned_province = {
					has_province_modifier = BM_immigrant_settlements
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	immediate = {
		if = {
			limit = {
				has_government_attribute = enables_immigrant_settlements
			}
			every_owned_province = {
				limit = {
					trade_goods = grain
					trade_goods = livestock
					trade_goods = fish
				}
				add_province_modifier = {
					name = BM_immigrant_settlements
					duration = -1
				}
			}
		}
		else = {
			every_owned_province = {
				remove_province_modifier = BM_immigrant_settlements
			}
		}
	}
	
	option = {
		name = reform_me_events.243.a
		
	}
}

#EMIRATE OF ANDALUSIA CUSTOM IBERIAN HAREM
country_event = {
	id = reform_me_events.222
	title = reform_me_events.222.t
	desc = reform_me_events.222.d
	picture = WESTERNISATION_eventPicture
	hidden = yes

	trigger = {
		has_government_attribute = enables_iberian_harem
		NOT = {
			OR = {
				has_heir = yes
				has_country_flag = GE_Iberian_Harem_Flag
			}
		}
		ruler_age = 30
	}
	
	mean_time_to_happen = {
		months = 30
	}
	
	immediate = {
		set_country_flag = GE_Iberian_Harem_Flag
	}
	
	option = {
		name = reform_me_events.222.a
		define_heir = {
			culture = castillian
			dynasty = root
			adm = 0
			dip = 0
			mil = 3
		}
		set_heir_flag = GE_Iberian_Harem_Castillian
		custom_tooltip = GE_Iberian_Harem_Castillian_TT
	}
	option = {
		name = reform_me_events.222.b
		define_heir = {
			culture = andalucian
			dynasty = root
			adm = 3
			dip = 0
			mil = 0
		}
		set_heir_flag = GE_Iberian_Harem_Andalucian
		custom_tooltip = GE_Iberian_Harem_Andalucian_TT
	}
	option = {
		name = reform_me_events.222.c
		define_heir = {
			culture = portugese
			dynasty = root
			adm = 0
			dip = 3
			mil = 0
		}
		set_heir_flag = GE_Iberian_Harem_Portugese
		custom_tooltip = GE_Iberian_Harem_Portugese_TT
	}
	option = {
		name = reform_me_events.222.e
		define_heir = {
			culture = catalan
			dynasty = root
			adm = 1
			dip = 1
			mil = 1
		}
		set_heir_flag = GE_Iberian_Harem_Catalan
		custom_tooltip = GE_Iberian_Harem_Catalan_TT
	}
	
	after = {
		clr_country_flag = GE_Iberian_Harem_Flag
	}
}

#MAMLUK HORSES CUSTOM GOV REFORM 
country_event = {
	id = reform_me_events.22
	title = reform_me_events.22.t
	desc = reform_me_events.22.d
	picture = WESTERNISATION_eventPicture
	hidden = yes
	

	trigger = {
		has_government_attribute = enables_arabian_horses
		OR = {
			AND = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 1
				}
				NOT = { has_country_modifier = Arabian_Horses_1 }
			}
			AND = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 2
				}
				NOT = { has_country_modifier = Arabian_Horses_2 }
			}
			AND = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 3
				}
				NOT = { has_country_modifier = Arabian_Horses_3 }
			}
			AND = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 4
				}
				NOT = { has_country_modifier = Arabian_Horses_4 }
			}
			AND = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 5
				}
				NOT = { has_country_modifier = Arabian_Horses_5 }
			}
		}
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	immediate = {
		if = {
			limit = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 1
				}
				NOT = {
					calc_true_if = {
						all_subject_country = {
							OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
						}
						amount = 2
					}
				}
			}
			add_country_modifier = {
				name = Arabian_Horses_1
				duration = -1
			}
			remove_country_modifier = Arabian_Horses_2
			remove_country_modifier = Arabian_Horses_3
			remove_country_modifier = Arabian_Horses_4
			remove_country_modifier = Arabian_Horses_5
		}
		if = {
			limit = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 2
				}
				NOT = { 				
					calc_true_if = {
						all_subject_country = {
							OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
						}
						amount = 3
					}
				}
			}
			add_country_modifier = {
				name = Arabian_Horses_2
				duration = -1
			}
			remove_country_modifier = Arabian_Horses_1
			remove_country_modifier = Arabian_Horses_3
			remove_country_modifier = Arabian_Horses_4
			remove_country_modifier = Arabian_Horses_5
		}
		if = {
			limit = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 3
				}
				NOT = { 				
					calc_true_if = {
						all_subject_country = {
							OR = {
								primary_culture = bedouin_arabic
								primary_culture = mahri_culture
								primary_culture = hejazi_culture
								primary_culture = omani_culture
								primary_culture = yemeni_culture
								primary_culture = gulf_arabic
								primary_culture = al_iraqiya_arabic
							}
						}
						amount = 4
					}
				}
			}
			add_country_modifier = {
				name = Arabian_Horses_3
				duration = -1
			}
			remove_country_modifier = Arabian_Horses_1
			remove_country_modifier = Arabian_Horses_2
			remove_country_modifier = Arabian_Horses_4
			remove_country_modifier = Arabian_Horses_5
		}
		if = {
			limit = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 4
				}
				NOT = { 				
					calc_true_if = {
						all_subject_country = {
							OR = {
								primary_culture = bedouin_arabic
								primary_culture = mahri_culture
								primary_culture = hejazi_culture
								primary_culture = omani_culture
								primary_culture = yemeni_culture
								primary_culture = gulf_arabic
								primary_culture = al_iraqiya_arabic
							}
						}
						amount = 5
					}
				}
			}
			add_country_modifier = {
				name = Arabian_Horses_4
				duration = -1
			}
			remove_country_modifier = Arabian_Horses_1
			remove_country_modifier = Arabian_Horses_2
			remove_country_modifier = Arabian_Horses_3
			remove_country_modifier = Arabian_Horses_5
		}
		if = {
			limit = {
				calc_true_if = {
					all_subject_country = {
						OR = {
							primary_culture = bedouin_arabic
							primary_culture = mahri_culture
							primary_culture = hejazi_culture
							primary_culture = omani_culture
							primary_culture = yemeni_culture
							primary_culture = gulf_arabic
							primary_culture = al_iraqiya_arabic
						}
					}
					amount = 5
				}
			}
			add_country_modifier = {
				name = Arabian_Horses_5
				duration = -1
			}
			remove_country_modifier = Arabian_Horses_1
			remove_country_modifier = Arabian_Horses_2
			remove_country_modifier = Arabian_Horses_3
			remove_country_modifier = Arabian_Horses_4
		}
	}
	
	option = {
		name = reform_me_events.22.a
		
	}
}


#ENGLISH REDCOATS CUSTOM ATTRIBUTE
	country_event = {
		id = english_redcoats_event1
		title = english_redcoats_event1.t
		desc = english_redcoats_event1.d
		picture = TRADEGOODS_eventPicture
		
		hidden = yes
		
		trigger = {
			AND = {
				has_government_attribute = enables_english_redcoats
			}
			NOT = {
				has_country_modifier = BM_marines
				has_country_modifier = BM_english_marines
			}
		}
	}
	immediate = {
		add_country_modifier = { 
			name = BM_marines
			duration = -1  
			desc = BM_marines
			hidden = yes
		}
		add_country_modifier = { 
			name = BM_english_marines
			duration = -1  
			desc = BM_english_marines
			hidden = yes
		}
		else = {
			remove_country_modifier = BM_marines
			remove_country_modifier = BM_english_marines
			}
		}
	}
}

#Siamese Government Reform
country_event = {
	id = reform_me_events.184
	title = reform_me_events.184.t
	desc = reform_me_events.184.d
	picture = WESTERNISATION_eventPicture
	hidden = yes

	trigger = {
		OR = {
			AND = {
				has_government_attribute = enables_siamese_honor
				OR = {
					AND = {
						legitimacy = 75
						NOT = { has_country_modifier = siamese_national_pride }
					}
					AND = {
						NOT = { legitimacy = 75 }
						has_country_modifier = siamese_national_pride
					}
					AND = {
						NOT = {	legitimacy = 50	}
						NOT = { has_country_modifier = siamese_national_shame }
					}
					AND = {
						legitimacy = 50
						has_country_modifier = siamese_national_shame
					}
				}
			}
			AND = {
				OR = {
					has_country_modifier = siamese_national_pride
					has_country_modifier = siamese_national_shame
				}
				NOT = { has_government_attribute = enables_siamese_honor }
			}
		}
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	immediate = {
		if = {
			limit = {
				legitimacy = 75
				NOT = { has_country_modifier = siamese_national_pride }
			}
			add_country_modifier = {
				name = siamese_national_pride 
				duration = -1
			}
		}
		if = {
			limit = {
				NOT = { legitimacy = 75 }
				has_country_modifier = siamese_national_pride
			}
			remove_country_modifier = siamese_national_pride 
		}
		if = {
			limit = {
				NOT = {	legitimacy = 50	}
				NOT = { has_country_modifier = siamese_national_shame }
			}
			add_country_modifier = {
				name = siamese_national_shame
				duration = -1
			}
		}
		if = {
			limit = {
				legitimacy = 50
				has_country_modifier = siamese_national_shame
			}
			remove_country_modifier = siamese_national_shame 
		}
		if = {
			limit = {
				NOT = { has_government_attribute = enables_siamese_honor }
			}
			remove_country_modifier = siamese_national_pride
		}
	}
	
	option = {
		name = reform_me_events.184.a
		
	}
}